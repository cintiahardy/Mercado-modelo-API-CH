<h1>Productos</h1>

<div style="display: flex; flex-wrap: wrap; gap: 20px;">
  {{#each products}}
    <div style="border: 1px solid #ccc; padding: 10px; width: 200px;">
      <img src="/img/{{this.imagen}}" alt="{{this.nombre}}" style="width: 100%; height: 150px; object-fit: cover;">
      <h3>{{this.nombre}}</h3>
      <p>Precio: ${{this.precio}}</p>
      <p>Stock: {{this.stock}}</p>
      <a href="/products/{{this._id}}">Ver detalle</a>

      <form action="/carts/{{../cartId}}/products/{{this._id}}" method="POST">
        <input type="number" name="quantity" value="1" min="1">
        <button type="submit">Agregar al carrito</button>
      </form>
    </div>
  {{/each}}
</div>

<div style="margin-top: 20px;">
  {{#if pagination.hasPrevPage}}
    <a href="{{pagination.prevLink}}">Anterior</a>
  {{/if}}
  <span>PÃ¡gina {{pagination.page}} de {{pagination.totalPages}}</span>
  {{#if pagination.hasNextPage}}
    <a href="{{pagination.nextLink}}">Siguiente</a>
  {{/if}}
</div>